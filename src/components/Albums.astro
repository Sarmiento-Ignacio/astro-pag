---
import CardAlbum from "./CardAlbum.astro";
import { getIdlesAlbums } from "../services/idlesband";

const albums = await getIdlesAlbums()
---

<div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
{
  albums.map((album: { id: string; title: string; release_date: Date; cover: string; genre_id: number; tracklist: string; cover_small: string; cover_medium: string; cover_big: string; cover_xl: string; md5_image: string; explicit_lyrics: boolean; }) => (
    <CardAlbum
      id={album.id}
      title={album.title}
      release_date={album.release_date}
      cover={album.cover}
      genre_id={album.genre_id}
      tracklist={album.tracklist}
      cover_small={album.cover_small}
      cover_medium={album.cover_medium}
      cover_big={album.cover_big}
      cover_xl={album.cover_xl}
      md5_image={album.md5_image}
      explicit_lyrics={album.explicit_lyrics}
    />
  ))

}
</div>
